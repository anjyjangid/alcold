
<li ng-class="{'hideOp':hideOpcart.hide}" class="dropdown cart-icon-set" id="cart-summary-icon" ng-mouseover="hideOpcart.hide=false" ng-mouseleave="hideOpcart.hide=true">

<a href="javascript:void(0)" class="cart_icon"></a><span ng-if="alcoholCart.getTotalUniqueItems()">{{alcoholCart.getCartTotal() | pricingTxt}}</span>
<div class="dropdown-menu currentorderpopup">
	<!-- Current order Start-->

	<div ng-if="alcoholCart.getTotalUniqueItems()">
		<div class="currentorderpopuppinkbox">
			<div class="currentorderpopuppinkboxleft">Current Order</div>
			
			<div class="currentorderpopuppinkboxright" ng-click="hideOpcart.hide=1"><a ui-sref="mainLayout.checkout.cart" >view Cart</a></div>
		</div>

		<div>


			
			<ul  class="currentorderpopupul" ng-scrollbars ng-scrollbars-config="scrollconfig">					
				<li ng-init="total = 0" ng-repeat="(id,sale) in alcoholCart.getSales()">					
					<div ng-repeat="(id,productInSale) in sale.products">
						<div class="currentorderpopupulleft">{{productInSale.product.name}}</div>
						<div class="currentorderpopupulcenter" ng-init="$parent.total = $parent.total + productInSale.quantity">{{productInSale.quantity}}</div>						
						<div class="currentorderpopupulright">{{productInSale.product.price | pricingTxt}}</div>
					</div>
					<div ng-repeat="(id,productInAction) in sale.action">
						<div class="currentorderpopupulleft">{{productInAction.product.name}}</div>
						<div class="currentorderpopupulcenter" ng-init="$parent.total = $parent.total + productInAction.quantity">{{productInAction.quantity}}</div>						
						<div class="currentorderpopupulright">{{productInAction.product.price | pricingTxt}}</div>
					</div>					
					<div>
						<div class="currentorderpopupulleft">&nbsp;</div>
						<div class="currentorderpopupulcenter">&nbsp;</div>
						<div class="currentorderpopupulright strike-txt">{{sale.strikePrice | pricingTxt}}</div>
					</div>
					<div>
						<div class="currentorderpopupulleft"><span class="saletag">{{sale.title.small}}</span></div>
						<div class="currentorderpopupulcenter">{{total}}</div>
						<div class="currentorderpopupulright">{{sale.price | pricingTxt}}</div>					
					</div>
				</li>					

				<li ng-hide="product.remainingQty == 0" ng-repeat="(id,product) in alcoholCart.getProducts()">
					<div class="currentorderpopupulleft">{{product.product.name}}</div>
					<div class="currentorderpopupulcenter">{{product.remainingQty}}</div>
					<div class="currentorderpopupulright">{{product.getPrice() | pricingTxt}}</div>
				</li>

				<li ng-repeat="(id,product) in alcoholCart.getLoyaltyProducts()">
					<div class="currentorderpopupulleft">{{product.product.name}}</div>
					<div class="currentorderpopupulcenter">{{product.quantity}}</div>
					<div class="currentorderpopupulright">
						<i>LP {{product.loyaltyValue.point}}</i>
						<i ng-if='product.loyaltyValue.price>0'> + {{product.loyaltyValue.price | pricingTxt}}</i>
					</div>
				</li>

				<li ng-repeat="(key,package) in alcoholCart.getPackages()">
					<div class="currentorderpopupulleft">{{package._name}}</div>
					<div class="currentorderpopupulcenter">{{package._quantity}}</div>
					<div class="currentorderpopupulright">{{package._price | pricingTxt}}</div>
				</li>

				<li ng-repeat="(key,promotion) in alcoholCart.getPromotions()">
					<div class="currentorderpopupulleft">{{promotion.product._title}}</div>
					<div class="currentorderpopupulcenter">promo</div>
					<div class="currentorderpopupulright">{{package._price | freeTxt}}</div>
				</li>

				<li ng-repeat="(key,giftCard) in alcoholCart.getGiftCards()">
					<div class="currentorderpopupulleft">Gift Card ({{giftCard.recipient.price | pricingTxt}})</div>
					<div class="currentorderpopupulcenter">{{giftCard.recipient.quantity}}</div>
					<div class="currentorderpopupulright">{{giftCard.getPrice() | pricingTxt}}</div>
				</li>

				<li ng-repeat="(key,gift) in alcoholCart.getGifts()">
					<div class="currentorderpopupulleft">
						Gift : {{gift.gsTitle()}} <br />
						product: {{gift.getProductAttachedCount()}}/{{gift.gsLimit()}}
					</div>
					<div class="currentorderpopupulcenter">1</div>
					<div class="currentorderpopupulright">{{gift.gsPrice() | pricingTxt}}</div>

				</li>

			</ul>
		</div>
	</div>
	<div ng-if="!alcoholCart.getTotalUniqueItems()">
		<div class="currentorderpopuppinkbox on-blank">
			There is nothing in cart
		</div>
	</div>

</div>
</li>
